{% extends 'base.html' %}

{% block title %}Home – Team Manager{% endblock %}

{% block content %}

<div class="container">
  <h2 class="mb-4">✏️ Edit Tournament: {{ tournament.team_name }}</h2>

  <form method="post" class="row g-3">
    <div class="col-md-4">
      <label class="form-label">Date</label>
      <input type="date" name="date" class="form-control" value="{{ tournament.date }}" required>
    </div>

    <div class="col-md-4">
      <label class="form-label">Place</label>
      <input name="place" class="form-control" value="{{ tournament.place }}" required>
    </div>

    <div class="col-md-4">
      <label class="form-label">Team Name</label>
      <input name="team_name" class="form-control" value="{{ tournament.team_name }}" required>
    </div>

    {% for i in range(6) %}
      <div class="col-md-4">
        <label class="form-label">Opponent {{ i + 1 }}</label>
        <input name="opponent{{ i+1 }}" class="form-control" value="{{ current_opponents[i] if i < current_opponents|length else '' }}">
      </div>
    {% endfor %}

    <div class="col-12">
      <label class="form-label">Select Players</label>
      <div class="border rounded p-2" style="max-height: 200px; overflow-y: auto;">
        {% for p in all_players %}
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="players" value="{{ p.name }}" {% if p.name in current_players %}checked{% endif %}>
            <label class="form-check-label">{{ p.name }}</label>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="col-12">
      <label class="form-label">Coach Notes</label>
      <textarea name="coach_notes" rows="4" class="form-control">{{ tournament.coach_notes }}</textarea>
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary">💾 Save Changes</button>
      <a href="/tournament/{{ tournament.id }}" class="btn btn-secondary ms-2">⬅ Back</a>
    </div>
  </form>
</div>
{% endblock %}
  
{% block js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}